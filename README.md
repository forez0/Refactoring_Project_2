üì¶ –ü–∞—Ç–µ—Ä–Ω–∏ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –≤ Django-–ø—Ä–æ—î–∫—Ç—ñ "Shop"
üìã –ó–º—ñ—Å—Ç
–û–≥–ª—è–¥

üé® –ü–∞—Ç–µ—Ä–Ω –î–µ–∫–æ—Ä–∞—Ç–æ—Ä

üè≠ –ü–∞—Ç–µ—Ä–Ω –§–∞–±—Ä–∏–∫–∞ (Factory)

üí≥ –ü–∞—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥—ñ—è (Strategy)

üìö –í–∏—Å–Ω–æ–≤–∫–∏

–û–≥–ª—è–¥
–£ —Ü—å–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∫—ñ–ª—å–∫–∞ –∫–ª–∞—Å–∏—á–Ω–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ, –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–¥—É —Ç–∞ –≥–Ω—É—á–∫–æ—Å—Ç—ñ. –ó–æ–∫—Ä–µ–º–∞:

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —Ñ—É–Ω–∫—Ü—ñ–π.

–§–∞–±—Ä–∏–∫–∞ ‚Äî –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –∑ —Ä—ñ–∑–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é.

–°—Ç—Ä–∞—Ç–µ–≥—ñ—è ‚Äî –¥–ª—è —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó –ª–æ–≥—ñ–∫–∏ –æ–ø–ª–∞—Ç–∏ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —ó—ó –∑–∞–º—ñ–Ω–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

üé® –ü–∞—Ç–µ—Ä–Ω –î–µ–∫–æ—Ä–∞—Ç–æ—Ä
üìÑ –§–∞–π–ª: shop/patterns/decorator.py

1. @apply_discount(percent)
–î–µ–∫–æ—Ä–∞—Ç–æ—Ä, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –∑–Ω–∏–∂–∫—É –¥–æ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –Ω–µ–æ–ø–ª–∞—á–µ–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–º.

–Ø–∫—â–æ —î –∞–∫—Ç–∏–≤–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑ –∑–Ω–∏–∂–∫–∏ ‚Äî –æ–±—á–∏—Å–ª—é—î —Å—É–º—É –∑–Ω–∏–∂–∫–∏ —Ç–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î —ó—ó –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –π –∫–æ–∂–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä—É.

–í–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –Ω–∞–¥–∞–Ω–Ω—è –∑–Ω–∏–∂–∫–∏.

üìå –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: –¥–æ–∑–≤–æ–ª—è—î –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –∑–Ω–∏–∂–æ–∫, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ —Å–∞–º—É –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—å (view-—Ñ—É–Ω–∫—Ü—ñ–π).

2. @login_required_ajax
–ó–∞–±–µ–∑–ø–µ—á—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é –¥–ª—è AJAX-–∑–∞–ø–∏—Ç—ñ–≤:

–Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î JsonResponse –∑ –ø–æ–º–∏–ª–∫–æ—é (403).

–Ü–Ω–∞–∫—à–µ ‚Äî –≤–∏–∫–ª–∏–∫–∞—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –º–µ—Ç–æ–¥.

üìå –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: —Å–ø—Ä–æ—â—É—î –∑–∞—Ö–∏—Å—Ç –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö AJAX-–µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ –±–µ–∑ –ø–æ—Ç—Ä–µ–±–∏ –¥—É–±–ª—é–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤ –∫–æ–∂–Ω–æ–º—É –º–µ—Ç–æ–¥—ñ.

üè≠ –ü–∞—Ç–µ—Ä–Ω –§–∞–±—Ä–∏–∫–∞ (Factory)
üìÑ –§–∞–π–ª: shop/patterns/factory.py

–ö–ª–∞—Å: BikeFactory
–Ü–Ω–∫–∞–ø—Å—É–ª—é—î –ª–æ–≥—ñ–∫—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ñ–≤:

–ü—Ä–∏–π–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç–∏–ø—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "mountain", "road", "city").

–°—Ç–≤–æ—Ä—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∑–∞–ø–∏—Å —É —Ç–∞–±–ª–∏—Ü—ñ Bike, BikeType.

–í –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Ç–∏–ø—É ‚Äî –¥–æ–¥–∞—î —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

MountainBikeSpec ‚Äî –ø—ñ–¥–≤—ñ—Å–∫–∞

RoadBikeSpec ‚Äî –≤–∞–≥–∞

CityBikeSpec ‚Äî –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫–æ—à–∏–∫–∞

üìå –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ —ñ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –Ω–æ–≤–∏–º–∏ —Ç–∏–ø–∞–º–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ñ–≤ –±–µ–∑ –∑–º—ñ–Ω–∏ –ª–æ–≥—ñ–∫–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

üí≥ –ü–∞—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥—ñ—è (Strategy)
üìÑ –§–∞–π–ª: shop/patterns/strategy.py

–Ü—î—Ä–∞—Ä—Ö—ñ—è –∫–ª–∞—Å—ñ–≤ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ä—ñ–∑–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –æ–ø–ª–∞—Ç–∏:

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å: PaymentStrategy
–ú–∞—î —î–¥–∏–Ω–∏–π –º–µ—Ç–æ–¥:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
def pay(self, amount: Decimal) -> bool
–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:
CreditCardPayment ‚Äî –æ–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–∫–æ—é

PayPalPayment ‚Äî –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ PayPal

CashOnDeliveryPayment ‚Äî –ø—ñ—Å–ª—è–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ

–ö–ª–∞—Å: PaymentContext
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó.

–î–æ–∑–≤–æ–ª—è—î –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é —É –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç.

–í–∏–∫–ª–∏–∫–∞—î –º–µ—Ç–æ–¥ pay() —á–µ—Ä–µ–∑ –æ–±—Ä–∞–Ω–∏–π —Å–ø–æ—Å—ñ–±.

üìå –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –æ–ø–ª–∞—Ç–∏ –≤—ñ–¥ —Ä–µ—à—Ç–∏ —Å–∏—Å—Ç–µ–º–∏, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ª–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ –ø–ª–∞—Ç—ñ–∂–Ω—ñ –º–µ—Ç–æ–¥–∏ –∞–±–æ –∑–º—ñ–Ω–∏—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –±–µ–∑ –≤–ø–ª–∏–≤—É –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥.

üìö –í–∏—Å–Ω–æ–≤–∫–∏
–¶—ñ —à–∞–±–ª–æ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –±—É–ª–∏ –æ–±—Ä–∞–Ω—ñ —á–µ—Ä–µ–∑:

‚úÖ –ì–Ω—É—á–∫—ñ—Å—Ç—å ‚Äî –¥–æ–∑–≤–æ–ª—è—é—Ç—å —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –±–µ–∑ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–¥—É.
‚úÖ –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å ‚Äî –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ñ–≤ –∞–±–æ –ø–ª–∞—Ç—ñ–∂–Ω—ñ –º–µ—Ç–æ–¥–∏.
‚úÖ –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å ‚Äî –∫–æ–¥ —Å—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–º —ñ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–º.
‚úÖ –¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å ‚Äî –∫–æ–∂–µ–Ω —à–∞–±–ª–æ–Ω –º–æ–∂–Ω–∞ —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ –ø–æ–∫—Ä–∏—Ç–∏ –º–æ–¥—É–ª—å–Ω–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏.

üõ† –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ —Ü–µ–π –∫–æ–¥ ‚Äî –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –∞–∫—Ç–∏–≤—É–π—Ç–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è shop/patterns, —â–æ–± –±–∞—á–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤, –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–Ω–∏–∂–æ–∫ —Ç–æ—â–æ.
